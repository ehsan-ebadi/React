# UI
![image](https://github.com/ehsan-ebadi/React/assets/64855572/1bfdbd56-295e-41aa-b33e-1ded0e5ef18f)
![image](https://github.com/ehsan-ebadi/React/assets/64855572/5956226e-2a99-4bcf-8fb2-2f3b0b804f4c)

# Source
- https://github.com/jonasschmedtmann/ultimate-react-course/tree/main/08-how-react-works

# Create app
- Copy all files from source to VPS.
- Install all necessary packages from `package.json`
```bash
npm i
```
- Run the app
```bash
npm start
```

# Definitions
- `Component` is a description of a piece of UI.
  - A component is a function that returns React elements (element tree), usually written as JSX
  - Blueprint or Template
![image](https://github.com/ehsan-ebadi/React/assets/64855572/32441ce9-87d9-44fe-b9a8-5db34911cbc9)

- `Component Instance` are created when we use components
  - React internally calls Tab()
  - Actual physical manifestation of a component
  - Has its own state and props
  - Has a lifecycle (can be born, live and die) 
![image](https://github.com/ehsan-ebadi/React/assets/64855572/81307f5e-42d1-41f5-9efb-4cf8de0116b7)

- `React Element`, JSX is converted to `React.createElement()` function calls
  - A React element is the result of these function calls
  - Information necessary to create DOM elements
![image](https://github.com/ehsan-ebadi/React/assets/64855572/33c04896-0c3d-44f3-89b5-5d0776fb23e1)

- `DOM Element (HTML)` is actual visual representation of the component instance in the browser.
![image](https://github.com/ehsan-ebadi/React/assets/64855572/abec702a-c327-4255-a6fa-a80db917aabd)

- How Rendering works
![image](https://github.com/ehsan-ebadi/React/assets/64855572/ffae3411-d9a3-432d-9ff8-01bdda8d4dd8)

- How Diffing works
  - In this app, if we Hide details in TabContent of Tab1, then go to Tab2, It will be hide. But if we go to Tab3 (`DifferentContent`) and come back to Tab1, the content will be shown because the content has changed.
  - We can overcome this problem and reset TabContent in each changing if Tab, by using key prop for each Tab.
 
- `Key Prop` is a special prop that we use to tell the diffing algorithm that an element is unique.
  - Allows React to distinguish between multiple instances of the same component type.
  - When a key stays the same across renders, the element will be kept in the DOM even if the position in the tree change ‚á® Using keys in lists (Stable key)
![image](https://github.com/ehsan-ebadi/React/assets/64855572/fcbd44c4-a0b5-4b1d-b319-41313725555b)
  - When a key changes between renders, the element will be destroyed and a new one will be created even if the position in the tree is the same as before  ‚á®  Using keys to reset state (Changing key)
![image](https://github.com/ehsan-ebadi/React/assets/64855572/4249c183-881b-4ffb-a3c7-ecf5a032bd59)

- Types of Logic in React components
![image](https://github.com/ehsan-ebadi/React/assets/64855572/0123a4ac-9cc8-4e4d-95f9-2d7082dc1fbd)

- Functional programming principles
![image](https://github.com/ehsan-ebadi/React/assets/64855572/5b3cfb6a-3979-41d3-b06b-3b49ebf9269d)

- Rules for Render Logic
![image](https://github.com/ehsan-ebadi/React/assets/64855572/e8815c60-4c83-413a-a57b-2ecc436a224c)

- Framework vs. Library
![image](https://github.com/ehsan-ebadi/React/assets/64855572/b45cb79a-b596-4573-b723-d818046b9953)

- React 3rd-party Library EcoSystem
![image](https://github.com/ehsan-ebadi/React/assets/64855572/db3fba32-0a4f-4ec8-85c9-a1900a5f60d7)

- Next.js
![Uploading image.png‚Ä¶]()

# index.css
```css
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

body {
  font-family: sans-serif;
  margin: 48px 96px;
  position: relative;
  color: #444;
}

button {
  color: inherit;
  font-family: inherit;
  border: none;
  cursor: pointer;
}

.toggle {
  position: absolute;
  right: 0;
  background: none;
  font-size: 30px;
  padding: 4px;
}

.tabs {
  margin-bottom: 8px;
}

.tab {
  border-radius: 12px;
  background-color: #edf2ff;
  padding: 12px 24px;
  margin-right: 8px;
  font-size: 16px;
  font-weight: bold;
  color: #364fc7;
  transition: all 0.3s;
}

.tab.active,
.tab:hover {
  background-color: #364fc7;
  color: #fff;
}

.tab-content {
  background-color: #edf2ff;
  padding: 32px;
  border-radius: 12px;
}

.tab-content h4 {
  font-size: 20px;
  margin-bottom: 16px;
  color: #364fc7;
}

.tab-content p {
  font-size: 18px;
}

.tab-actions {
  display: flex;
  justify-content: space-between;
  margin-top: 16px;
  margin-bottom: 24px;
}

.tab-actions > button {
  background: none;
  text-decoration: underline;
  color: #4c6ef5;
  font-size: 14px;
}

.hearts-counter {
  display: flex;
  align-items: center;
  gap: 8px;
}

.hearts-counter button {
  background-color: #f03e3e;
  padding: 4px 6px;
  border-radius: 4px;
  color: #fff;
  line-height: 1;
}

.tab-undo {
  display: flex;
  gap: 8px;
}

.tab-undo button {
  background-color: #364fc7;
  color: #fff;
  padding: 6px 12px;
  border-radius: 4px;
}
```

# index.js
```javascript
import React from "react";

import ReactDOM from "react-dom/client";

import App from "./App";
import "./index.css";

// REACT 18
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

# App.js
```javascript
import { useState } from "react";

const content = [
  {
    summary: "React is a library for building UIs",
    details:
      "Dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
  },
  {
    summary: "State management is like giving state a home",
    details:
      "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
  },
  {
    summary: "We can think of props as the component API",
    details:
      "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.",
  },
];

export default function App() {
  return (
    <div>
      <Tabbed content={content} />
    </div>
  );
}

function Tabbed({ content }) {
  const [activeTab, setActiveTab] = useState(0);

  return (
    <div>
      <div className="tabs">
        <Tab num={0} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={1} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={2} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={3} activeTab={activeTab} onClick={setActiveTab} />
      </div>

      {activeTab <= 2 ? (
        <TabContent
          item={content.at(activeTab)}
          key={content.at(activeTab).summary}
        />
      ) : (
        <DifferentContent />
      )}
    </div>
  );
}

function Tab({ num, activeTab, onClick }) {
  return (
    <button
      className={activeTab === num ? "tab active" : "tab"}
      onClick={() => onClick(num)}
    >
      Tab {num + 1}
    </button>
  );
}

function TabContent({ item }) {
  const [showDetails, setShowDetails] = useState(true);
  const [likes, setLikes] = useState(0);

  console.log("RENDER");

  function handleInc() {
    setLikes((likes) => likes + 1);
  }

  function handleTripleInc() {
    setLikes((likes) => likes + 1);
    setLikes((likes) => likes + 1);
    setLikes((likes) => likes + 1);
  }

  function handleUndo() {
    setShowDetails(true);
    setLikes(0);
    console.log(likes);
  }

  function handleUndoLater() {
    setTimeout(handleUndo, 2000);
  }

  return (
    <div className="tab-content">
      <h4>{item.summary}</h4>
      {showDetails && <p>{item.details}</p>}

      <div className="tab-actions">
        <button onClick={() => setShowDetails((h) => !h)}>
          {showDetails ? "Hide" : "Show"} details
        </button>

        <div className="hearts-counter">
          <span>{likes} ‚ù§Ô∏è</span>
          <button onClick={handleInc}>+</button>
          <button onClick={handleTripleInc}>+++</button>
        </div>
      </div>

      <div className="tab-undo">
        <button onClick={handleUndo}>Undo</button>
        <button onClick={handleUndoLater}>Undo in 2s</button>
      </div>
    </div>
  );
}

function DifferentContent() {
  return (
    <div className="tab-content">
      <h4>I'm a DIFFERENT tab, so I reset state üí£üí•</h4>
    </div>
  );
}
```
